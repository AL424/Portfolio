{"version":3,"file":"main-44Smu0Bs.js","sources":["../../scripts/modules/slider.js"],"sourcesContent":["const slider = document.querySelector('.slider');\nconst slide = document.querySelector('.slides__wrap');\nconst [prevBtn, nextBtn] = document.querySelectorAll('.slider__btn');\nconst progressBars = document.querySelectorAll('.slide__timer');\n\nlet currentSlide = Number(slide.dataset.activeSlide);\nlet animationId;\n\nconst animation = () => {\n  const progressBar = progressBars[currentSlide - 1];\n  const indicator = progressBar.querySelector('.slide__indicator');\n\n  const fullWidth = progressBar.clientWidth;\n  const step = fullWidth / 5000 * 20;\n\n  let currentWidth = indicator.clientWidth;\n\n  animationId = setInterval(() => {\n    if (currentWidth >= fullWidth) {\n      nextSlide();\n      animation();\n    } else {\n      currentWidth += step;\n      indicator.style.width = `${currentWidth}px`\n    }\n  }, 20);\n}\n\nslide.addEventListener('mouseenter', () => clearInterval(animationId));\nslide.addEventListener('mouseleave', () => animation());\n\nwindow.addEventListener('load', () => animation());\n\nconst clearProgressBar = () => {\n  const progressBar = progressBars[currentSlide - 1];\n  const indicator = progressBar.querySelector('.slide__indicator');\n  indicator.style.width = 0;\n  clearInterval(animationId);\n}\n\nconst nextSlide = () => {\n  clearProgressBar();\n  if (currentSlide >= 3) currentSlide = 1;\n  else currentSlide += 1;\n  slide.dataset.activeSlide = currentSlide;\n}\n\nconst prevSlide = () => {\n  clearProgressBar();\n  if (currentSlide <= 1) currentSlide = 3;\n  else currentSlide -= 1;\n  slide.dataset.activeSlide = currentSlide;\n}\n\nprevBtn.addEventListener('click', () => {\n  prevSlide();\n  animation();\n});\nnextBtn.addEventListener('click', () => {\n  nextSlide();\n  animation();\n});\n\nlet xDown;\nlet yDown;\n\nslide.addEventListener('touchstart', (event) => {\n  event.preventDefault();\n  clearInterval(animationId);\n  xDown = event.touches[0].clientX;\n  yDown = event.touches[0].clientY;\n});\nslide.addEventListener('touchend', (event) => {\n  event.preventDefault();\n  if (!xDown || !yDown) {\n    animation();\n    return;\n  };\n  const xUp = event.changedTouches[0].clientX;\n  const yUp = event.changedTouches[0].clientY;\n  const deltaX = xDown - xUp;\n  const deltaY = yDown - yUp;\n  if (Math.abs(deltaX) < Math.abs(deltaY) || Math.abs(deltaX) < 20) {\n    xDown = 0;\n    yDown = 0;\n    animation();\n    return;\n  }\n  if (deltaX > 0) nextSlide();\n  if (deltaX < 0) prevSlide();\n  xDown = 0;\n  yDown = 0;\n  animation();\n});\n"],"names":[],"mappings":";AAAe,SAAS,cAAc,SAAS;AAC/C,MAAM,QAAQ,SAAS,cAAc,eAAe;AACpD,MAAM,CAAC,SAAS,OAAO,IAAI,SAAS,iBAAiB,cAAc;AACnE,MAAM,eAAe,SAAS,iBAAiB,eAAe;AAE9D,IAAI,eAAe,OAAO,MAAM,QAAQ,WAAW;AACnD,IAAI;AAEJ,MAAM,YAAY,MAAM;AACtB,QAAM,cAAc,aAAa,eAAe,CAAC;AACjD,QAAM,YAAY,YAAY,cAAc,mBAAmB;AAE/D,QAAM,YAAY,YAAY;AAC9B,QAAM,OAAO,YAAY,MAAO;AAEhC,MAAI,eAAe,UAAU;AAE7B,gBAAc,YAAY,MAAM;AAC9B,QAAI,gBAAgB,WAAW;AAC7B;AACA;IACN,OAAW;AACL,sBAAgB;AAChB,gBAAU,MAAM,QAAQ,GAAG,YAAY;AAAA,IACxC;AAAA,EACF,GAAE,EAAE;AACP;AAEA,MAAM,iBAAiB,cAAc,MAAM,cAAc,WAAW,CAAC;AACrE,MAAM,iBAAiB,cAAc,MAAM,UAAW,CAAA;AAEtD,OAAO,iBAAiB,QAAQ,MAAM,UAAW,CAAA;AAEjD,MAAM,mBAAmB,MAAM;AAC7B,QAAM,cAAc,aAAa,eAAe,CAAC;AACjD,QAAM,YAAY,YAAY,cAAc,mBAAmB;AAC/D,YAAU,MAAM,QAAQ;AACxB,gBAAc,WAAW;AAC3B;AAEA,MAAM,YAAY,MAAM;AACtB;AACA,MAAI,gBAAgB;AAAG,mBAAe;AAAA;AACjC,oBAAgB;AACrB,QAAM,QAAQ,cAAc;AAC9B;AAEA,MAAM,YAAY,MAAM;AACtB;AACA,MAAI,gBAAgB;AAAG,mBAAe;AAAA;AACjC,oBAAgB;AACrB,QAAM,QAAQ,cAAc;AAC9B;AAEA,QAAQ,iBAAiB,SAAS,MAAM;AACtC;AACA;AACF,CAAC;AACD,QAAQ,iBAAiB,SAAS,MAAM;AACtC;AACA;AACF,CAAC;AAED,IAAI;AACJ,IAAI;AAEJ,MAAM,iBAAiB,cAAc,CAAC,UAAU;AAC9C,QAAM,eAAc;AACpB,gBAAc,WAAW;AACzB,UAAQ,MAAM,QAAQ,CAAC,EAAE;AACzB,UAAQ,MAAM,QAAQ,CAAC,EAAE;AAC3B,CAAC;AACD,MAAM,iBAAiB,YAAY,CAAC,UAAU;AAC5C,QAAM,eAAc;AACpB,MAAI,CAAC,SAAS,CAAC,OAAO;AACpB;AACA;AAAA,EACJ;AACE,QAAM,MAAM,MAAM,eAAe,CAAC,EAAE;AACpC,QAAM,MAAM,MAAM,eAAe,CAAC,EAAE;AACpC,QAAM,SAAS,QAAQ;AACvB,QAAM,SAAS,QAAQ;AACvB,MAAI,KAAK,IAAI,MAAM,IAAI,KAAK,IAAI,MAAM,KAAK,KAAK,IAAI,MAAM,IAAI,IAAI;AAChE,YAAQ;AACR,YAAQ;AACR;AACA;AAAA,EACD;AACD,MAAI,SAAS;AAAG;AAChB,MAAI,SAAS;AAAG;AAChB,UAAQ;AACR,UAAQ;AACR;AACF,CAAC;"}