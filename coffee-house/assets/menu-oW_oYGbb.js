import "./index-7Q9cBpiB.js";
const menuJSON = [
  {
    name: "Irish coffee",
    description: "Fragrant black coffee with Jameson Irish whiskey and whipped milk",
    price: "7.00",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-1.jpg"
  },
  {
    name: "Kahlua coffee",
    description: "Classic coffee with milk and Kahlua liqueur under a cap of frothed milk",
    price: "7.00",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-2.jpg"
  },
  {
    name: "Honey raf",
    description: "Espresso with frothed milk, cream and aromatic honey",
    price: "5.50",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-3.jpg"
  },
  {
    name: "Ice cappuccino",
    description: "Cappuccino with soft thick foam in summer version with ice",
    price: "5.00",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-4.jpg"
  },
  {
    name: "Espresso",
    description: "Classic black coffee",
    price: "4.50",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-5.jpg"
  },
  {
    name: "Latte",
    description: "Espresso coffee with the addition of steamed milk and dense milk foam",
    price: "5.50",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-6.jpg"
  },
  {
    name: "Latte macchiato",
    description: "Espresso with frothed milk and chocolate",
    price: "5.50",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-7.jpg"
  },
  {
    name: "Coffee with cognac",
    description: "Fragrant black coffee with cognac and whipped cream",
    price: "6.50",
    category: "coffee",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Cinnamon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/coffee-8.jpg"
  },
  {
    name: "Moroccan",
    description: "Fragrant black tea with the addition of tangerine, cinnamon, honey, lemon and mint",
    price: "4.50",
    category: "tea",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Lemon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/tea-1.png"
  },
  {
    name: "Ginger",
    description: "Original black tea with fresh ginger, lemon and honey",
    price: "5.00",
    category: "tea",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Lemon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/tea-2.png"
  },
  {
    name: "Cranberry",
    description: "Invigorating black tea with cranberry and honey",
    price: "5.00",
    category: "tea",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Lemon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/tea-3.png"
  },
  {
    name: "Sea buckthorn",
    description: "Toning sweet black tea with sea buckthorn, fresh thyme and cinnamon",
    price: "5.50",
    category: "tea",
    sizes: {
      s: {
        size: "200 ml",
        "add-price": "0.00"
      },
      m: {
        size: "300 ml",
        "add-price": "0.50"
      },
      l: {
        size: "400 ml",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Sugar",
        "add-price": "0.50"
      },
      {
        name: "Lemon",
        "add-price": "0.50"
      },
      {
        name: "Syrup",
        "add-price": "0.50"
      }
    ],
    img: "../files/tea-4.png"
  },
  {
    name: "Marble cheesecake",
    description: "Philadelphia cheese with lemon zest on a light sponge cake and red currant jam",
    price: "3.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-1.png"
  },
  {
    name: "Red velvet",
    description: "Layer cake with cream cheese frosting",
    price: "4.00",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-2.png"
  },
  {
    name: "Cheesecakes",
    description: "Soft cottage cheese pancakes with sour cream and fresh berries and sprinkled with powdered sugar",
    price: "4.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-3.png"
  },
  {
    name: "Creme brulee",
    description: "Delicate creamy dessert in a caramel basket with wild berries",
    price: "4.00",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-4.png"
  },
  {
    name: "Pancakes",
    description: "Tender pancakes with strawberry jam and fresh strawberries",
    price: "4.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-5.png"
  },
  {
    name: "Honey cake",
    description: "Classic honey cake with delicate custard",
    price: "4.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-6.png"
  },
  {
    name: "Chocolate cake",
    description: "Cake with hot chocolate filling and nuts with dried apricots",
    price: "5.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-7.png"
  },
  {
    name: "Black forest",
    description: "A combination of thin sponge cake with cherry jam and light chocolate mousse",
    price: "6.50",
    category: "dessert",
    sizes: {
      s: {
        size: "50 g",
        "add-price": "0.00"
      },
      m: {
        size: "100 g",
        "add-price": "0.50"
      },
      l: {
        size: "200 g",
        "add-price": "1.00"
      }
    },
    additives: [
      {
        name: "Berries",
        "add-price": "0.50"
      },
      {
        name: "Nuts",
        "add-price": "0.50"
      },
      {
        name: "Jam",
        "add-price": "0.50"
      }
    ],
    img: "../files/dessert-8.png"
  }
];
const modal = document.querySelector(".modal");
const overlay = document.querySelector(".overlay");
const openModal = (card) => {
  if (!modal || !overlay)
    return;
  const img = modal.querySelector(".modal__img");
  img.src = card.img;
  img.alt = card.name;
  const title = modal.querySelector(".modal__title");
  title.textContent = card.name;
  const text = modal.querySelector(".modal__text");
  text.textContent = card.description;
  const size = modal.querySelector("._size");
  const sizeLabels = size.querySelectorAll("label");
  sizeLabels.forEach((label) => label.remove());
  Object.values(card.sizes).forEach((value, index) => {
    const label = document.createElement("label");
    label.className = "modal__size";
    const input = document.createElement("input");
    input.type = "radio";
    input.name = "size";
    input.value = value["add-price"];
    if (index === 0)
      input.checked = true;
    label.append(input);
    label.append(value.size);
    size.append(label);
  });
  const add = modal.querySelector("._add");
  const addLabels = add.querySelectorAll("label");
  addLabels.forEach((label) => label.remove());
  Object.values(card.additives).forEach((value) => {
    const label = document.createElement("label");
    label.className = "modal__add";
    const input = document.createElement("input");
    input.type = "checkbox";
    input.name = "add";
    input.value = value["add-price"];
    label.append(input);
    label.append(value.name);
    add.append(label);
  });
  const priceElem = modal.querySelector(".modal__sum");
  priceElem.dataset.basePrice = card.price;
  priceElem.textContent = `$${card.price}`;
  modal.classList.add("open");
  overlay.classList.add("open");
  document.body.classList.add("no-scroll");
};
const closeBtn = document.querySelector(".modal__btn");
const closeModal = () => {
  document.body.classList.remove("no-scroll");
  [modal, overlay].forEach((item) => item.classList.remove("open"));
};
[closeBtn, overlay].forEach((item) => item.addEventListener("click", () => closeModal()));
modal.addEventListener("input", () => {
  const priceElem = modal.querySelector(".modal__sum");
  const price = Number(priceElem.dataset.basePrice);
  const sizeInputs = Array.from(modal.querySelectorAll("._size input"));
  const sizeInputChecked = sizeInputs.find((elem) => elem.checked);
  const sizeSum = Number(sizeInputChecked.value);
  const addInputs = Array.from(modal.querySelectorAll("._add input"));
  const addInputsChecked = addInputs.filter((elem) => elem.checked);
  const addSum = addInputsChecked.reduce((sum2, elem) => sum2 + Number(elem.value), 0);
  const sum = price + sizeSum + addSum;
  priceElem.textContent = `$${sum.toFixed(2)}`;
});
const menu = {
  coffee: [],
  tea: [],
  dessert: []
};
menuJSON.forEach((item) => {
  menu[item.category].push(item);
});
const menuCards = document.querySelector(".menu__cards");
let currentCategory = "coffee";
const getTemplate = (id) => {
  const template = document.getElementById(id);
  const clone = template.content.cloneNode(true);
  return clone.children[0];
};
const addCard = (card) => {
  const cardElement = getTemplate("card");
  const [img, title, text, price] = ["img", "title", "text", "price"].map((item) => cardElement.querySelector(`.card__${item}`));
  img.src = card.img;
  img.alt = card.title;
  title.textContent = card.name;
  text.textContent = card.description;
  price.textContent = `$${card.price}`;
  cardElement.onclick = () => openModal(card);
  menuCards.appendChild(cardElement);
};
const addCards = (category, addLastElements) => {
  const arr = menu[category];
  if (addLastElements) {
    arr.slice(4).forEach((item) => addCard(item));
    return;
  }
  menuCards.innerHTML = "";
  if (window.innerWidth <= 768 && arr.length > 4) {
    arr.slice(0, 4).forEach((item) => addCard(item));
    const btn = getTemplate("refresh");
    btn.onclick = () => {
      addCards(category, true);
      btn.remove();
    };
    menuCards.after(btn);
    return;
  }
  menu[category].forEach((item) => addCard(item));
};
addCards(currentCategory);
const tabs = document.querySelectorAll(".tab");
tabs.forEach((tab) => {
  tab.addEventListener("change", (event) => {
    currentCategory = event.target.getAttribute("value");
    const btn = document.querySelector(".refresh");
    if (btn)
      btn.remove();
    addCards(currentCategory);
  });
});
let currentWidth = window.innerWidth;
window.addEventListener("resize", (event) => {
  if (currentWidth > 768 && event.target.innerWidth > 768)
    return;
  if (currentWidth <= 768 && event.target.innerWidth <= 768)
    return;
  currentWidth = event.target.innerWidth;
  const btn = document.querySelector(".refresh");
  if (btn)
    btn.remove();
  addCards(currentCategory);
});
//# sourceMappingURL=menu-oW_oYGbb.js.map
